# Tasks - κΈ°λ¥ μ •μ λ° μΈν„°νμ΄μ¤ λ…μ„Έ

> κΈ°λ¥ λ‹¨μ„ λ¶„λ¦¬ λ° μΈν„°νμ΄μ¤ κ³„μ•½ κ΄€λ¦¬

## π“‹ κ°μ”

μ΄ λ””λ ‰ν† λ¦¬λ” ν”„λ΅μ νΈμ **κΈ°λ¥ μ •μ**μ™€ **κΈ°λ¥ κ°„ μΈν„°νμ΄μ¤**λ¥Ό λ…ν™•ν•κ² λ¬Έμ„ν™”ν•©λ‹λ‹¤.

**ν•µμ‹¬ μ›μΉ™:**
1. κΈ°λ¥μ€ λ…λ¦½μ μΌλ΅ μ •μλ¨
2. μΈν„°νμ΄μ¤λ” μμ • λ¶κ°€λ¥ν• κ³„μ•½
3. μΈν„°νμ΄μ¤λ” ν•µμ‹¬λ§ ν¬ν•¨ (μμ‹ κΈμ§€)
4. λ‹¨λ°©ν–¥ μμ΅΄μ„±
5. κ³„μΈµν™” μ§€μ›

---

## π—‚οΈ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```
tasks/
β”β”€β”€ README.md                    # μ΄ λ¬Έμ„
β”β”€β”€ SHARED_TYPES.md              # κ³µμ© νƒ€μ… μ»¨λ²¤μ… (ν•„λ…)
β”β”€β”€ VALIDATION.md                # κ²€μ¦ μ‹μ¤ν… κ°€μ΄λ“
β”β”€β”€ QUALITY_TOOLS.md             # ν’μ§ κ΄€λ¦¬ λ„κµ¬ κ°€μ΄λ“
β”β”€β”€ IMPLEMENTATION_REPORT.md     # κµ¬ν„ λ¦¬ν¬νΈ
β”β”€β”€ features/                    # κΈ°λ¥ μ •μ
β”‚   β”β”€β”€ 01_ProjectManagement.md
β”‚   β”β”€β”€ 02_ImageLibrary.md
β”‚   β”β”€β”€ 03_Canvas.md
β”‚   β””β”€β”€ ...
β”β”€β”€ interfaces/                  # μΈν„°νμ΄μ¤ μ •μ
β”‚   β”β”€β”€ 01--02.md               # ProjectManagement β†’ ImageLibrary
β”‚   β”β”€β”€ 02--03.md               # ImageLibrary β†’ Canvas
β”‚   β””β”€β”€ ...
β”β”€β”€ shared/                      # κ³µμ© νƒ€μ… (Single Source of Truth)
β”‚   β”β”€β”€ 01--02_02--03_02--05.md # ImageAsset
β”‚   β”β”€β”€ 03--04_06--05.md        # LayerNode
β”‚   β”β”€β”€ 03--06_06--05.md        # CanvasState, CanvasData
β”‚   β””β”€β”€ ...
β””β”€β”€ tools/                       # ν’μ§ κ΄€λ¦¬ λ„κµ¬
    β”β”€β”€ find-duplicates.sh       # μ¤‘λ³µ νƒ€μ… κ²€μ¶
    β””β”€β”€ check-references.sh      # SSOT μ¤€μ κ²€μ¦
```

---

## π“„ νμΌ λ…λ… κ·μΉ™

### κΈ°λ¥ μ •μ (features/)

**ν•μ‹:** `{λ²νΈ}_{κΈ°λ¥λ…}.md`

**μμ‹:**
- `01_ProjectManagement.md`
- `02_ImageLibrary.md`
- `03_Canvas.md`

**κ³„μΈµν™”:**
- `01_ProjectManagement.md`
- `01_01_ProjectCreation.md` (ν•μ„ κΈ°λ¥)
- `01_02_ProjectPersistence.md` (ν•μ„ κΈ°λ¥)

### μΈν„°νμ΄μ¤ μ •μ (interfaces/)

**ν•μ‹:** `{μ¶λ°κΈ°λ¥}--{λ„μ°©κΈ°λ¥}.md`

**μμ‹:**
- `01--02.md` (ProjectManagement β†’ ImageLibrary)
- `02--03.md` (ImageLibrary β†’ Canvas)
- `03--04.md` (Canvas β†’ LayerPanel)

**κ³„μΈµν™”:**
- `01_01--02.md` (ProjectCreation β†’ ImageLibrary)

**κ·μΉ™:**
- `A--B`: Aκ°€ Bλ¥Ό ν•„μ”λ΅ ν•¨ (λ‹¨λ°©ν–¥)
- Bλ” Aλ¥Ό μ• ν•„μ” μ—†μ
- μ–‘λ°©ν–¥μ΄ ν•„μ”ν•λ©΄ λ‘ νμΌ μƒμ„±: `A--B.md`, `B--A.md`

### κ³µμ© νƒ€μ… (shared/)

**ν•μ‹:** `{A}--{B}_{C}--{D}.md`

**μμ‹:**
- `01--02_02--03_02--05.md` (ImageAsset κ³µμ© νƒ€μ…)
- `03--04_06--05.md` (LayerNode κ³µμ© νƒ€μ…)

**κ·μΉ™:**
- `_` (underscore)λ΅ μ—¬λ¬ μΈν„°νμ΄μ¤ μ μ—°κ²°
- μ•νλ²³/μ«μ μμΌλ΅ μ •λ ¬ ν•„μ
- κ³µμ© νƒ€μ…μ€ μ—¬κΈ°μ„λ§ μ •μ (Single Source of Truth)

---

## π”— κ³µμ© νƒ€μ… (Shared Types)

### λ‹¨μΌ μ§„μ‹¤ μ›μ² (Single Source of Truth)

μ—¬λ¬ μΈν„°νμ΄μ¤μ—μ„ λ™μΌν• νƒ€μ…μ„ κ³µμ ν•  λ•, **μ¤‘λ³µ μ •μλ¥Ό μ λ€ κΈμ§€**ν•κ³  **λ‹¨ ν•λ‚μ μ¥μ†**μ—μ„λ§ μ •μν•©λ‹λ‹¤.

**ν•µμ‹¬ μ›μΉ™:**
- β… **μ •μ**: `shared/` λ””λ ‰ν† λ¦¬μ—μ„λ§ νƒ€μ… μ •μ
- β… **μ°Έμ΅°**: `features/`, `interfaces/`μ—μ„λ” μ°Έμ΅°λ§
- β **μ¤‘λ³µ κΈμ§€**: κ°™μ€ νƒ€μ…μ„ μ—¬λ¬ κ³³μ—μ„ μ •μ κΈμ§€

### κ³µμ© νƒ€μ… μƒμ„± μ‹κΈ°

λ‹¤μ μ΅°κ±΄ μ¤‘ ν•λ‚λ¥Ό λ§μ΅±ν•λ©΄ κ³µμ© νƒ€μ…μΌλ΅ μ¶”μ¶:

1. **κµ¬μ΅°μ  λ™μΌμ„±**: 2κ° μ΄μƒμ μΈν„°νμ΄μ¤μ—μ„ λ™μΌν• νƒ€μ… κµ¬μ΅° μ‚¬μ©
2. **λ™μΌ μ›μ² λ°μ΄ν„°**: κ°™μ€ μ›μ²μ—μ„ νμƒ (Pick, Omit μ‚¬μ© ν¬ν•¨)

**μμ‹:**
```typescript
// Case 1: μ™„μ „ν λ™μΌ
// 01--02: ImageAsset μ „μ²΄ μ‚¬μ©
// 02--05: ImageAsset μ „μ²΄ μ‚¬μ©
β†’ κ³µμ© νƒ€μ…μΌλ΅ μ¶”μ¶

// Case 2: λ™μΌ μ›μ², λ¶€λ¶„ μ‚¬μ©
// 02--03: Pick<ImageAsset, 'id' | 'name' | 'width' | 'height' | 'blob'>
β†’ μ›μ²μ΄ κ°™μΌλ―€λ΅ κ³µμ© νƒ€μ…μΌλ΅ κ΄€λ¦¬
```

### κ³µμ© νƒ€μ… μ°Έμ΅° λ°©λ²•

#### 1. Frontmatterμ— λ…μ‹
```markdown
---
shared_types:
  - "03--04_06--05"
---
```

#### 2. λ¬Έμ„ λ‚΄ μ°Έμ΅° λ§ν¬
```markdown
## νƒ€μ… μ •μ

> π”— **κ³µμ© νƒ€μ…**: `LayerNode`λ” [../shared/03--04_06--05.md](../shared/03--04_06--05.md) μ°Έμ΅°
```

#### 3. μΈν„°νμ΄μ¤ νΉν™” νƒ€μ…λ§ μ •μ
```typescript
// β… μ¬λ°”λ¥Έ ν¨ν„΄
interface CanvasConfig {
  width: number;
  height: number;
}
// LayerNodeλ” μ •μ μ—†μ΄ μ°Έμ΅°λ§
```

### μλ»λ ν¨ν„΄

```markdown
<!-- β κΈμ§€: features/03_Canvas.mdμ—μ„ μ§μ ‘ μ •μ -->
interface LayerNode {
  id: string;
  // ...
}
```

**μ¬λ°”λ¥Έ ν¨ν„΄:**
```markdown
<!-- β… μ¬λ°”λ¦„: μ°Έμ΅°λ§ -->
> π”— **κ³µμ© νƒ€μ…**: `LayerNode`λ” [../shared/03--04_06--05.md](../shared/03--04_06--05.md) μ°Έμ΅°
```

### μƒμ„Έ κ°€μ΄λ“

κ³µμ© νƒ€μ…μ μμ„Έν• μ‚¬μ©λ²•μ€ [SHARED_TYPES.md](./SHARED_TYPES.md)λ¥Ό μ°Έμ΅°ν•μ„Έμ”.

---

## π“ λ¬Έμ„ ν¬λ§·

### κΈ°λ¥ μ •μ λ¬Έμ„

```markdown
---
feature: "κΈ°λ¥λ…"
status: "planned | in-progress | completed"
entry_point: "src/path/to/entry.ts"
description: "ν•µμ‹¬ λ©μ "
dependencies:
  - "02_ImageLibrary"
  - "05_Database"
shared_types:              # μ„ νƒ: μ°Έμ΅°ν•λ” κ³µμ© νƒ€μ…
  - "03--04_06--05"
---

# κΈ°λ¥λ…

## λ©μ 
λ…ν™•ν• ν•µμ‹¬ λ©μ  (1-2λ¬Έμ¥)

## μ±…μ„
- μ±…μ„ 1
- μ±…μ„ 2

## μ κ³µ μΈν„°νμ΄μ¤
- `κΈ°λ¥--νƒ€κ²` μ°Έμ΅°

## μμ΅΄ μΈν„°νμ΄μ¤
- `μμ΅΄--κΈ°λ¥` μ°Έμ΅°

## κµ¬ν„ μƒνƒ
- [ ] μ‘μ—… 1
- [ ] μ‘μ—… 2
```

### μΈν„°νμ΄μ¤ μ •μ λ¬Έμ„

```markdown
---
from: "01_ProjectManagement"
to: "02_ImageLibrary"
type: "service | event | data"
status: "defined | implemented | verified"
shared_types:              # μ„ νƒ: μ°Έμ΅°ν•λ” κ³µμ© νƒ€μ…
  - "01--02_02--03_02--05"
---

# ProjectManagement β†’ ImageLibrary

## λ©μ 
μ™ μ΄ μΈν„°νμ΄μ¤κ°€ ν•„μ”ν•κ°€ (1λ¬Έμ¥)

## κ³„μ•½

### λ©”μ„λ“/μ΄λ²¤νΈ
**ν•¨μλ…:** `methodName`
**μ…λ ¥:** `TypeName`
**μ¶λ ¥:** `TypeName`
**λ©μ :** ν•µμ‹¬ λ©μ 

### νƒ€μ… μ •μ
```typescript
interface InputType {
  field: string;
}
```

## λ¶λ³€ κ·μΉ™
- κ·μΉ™ 1
- κ·μΉ™ 2

## κ²€μ¦ μ΅°κ±΄
- μ΅°κ±΄ 1
- μ΅°κ±΄ 2
```

---

## β οΈ μ‘μ„± κ·μΉ™

### β… ν—μ©

1. **ν•µμ‹¬λ§ μ‘μ„±**
   ```markdown
   ## λ©μ 
   ν”„λ΅μ νΈ μƒμ„± μ”μ²­μ„ μ²λ¦¬ν•λ‹¤.
   ```

2. **νƒ€μ… μ •μ**
   ```typescript
   interface CreateProjectInput {
     name: string;
     source: File | FileSystemDirectoryHandle;
   }
   ```

3. **λ¶λ³€ κ³„μ•½**
   ```markdown
   ## λ¶λ³€ κ·μΉ™
   - μ…λ ¥ νƒ€μ…μ€ λ³€κ²½ λ¶κ°€
   - λ°ν™ νƒ€μ…μ€ ν™•μ¥ κ°€λ¥
   ```

### β κΈμ§€

1. **μμ‹ μ½”λ“**
   ```markdown
   β κΈμ§€:
   ## μ‚¬μ© μμ‹
   const result = await service.create({ name: 'test' });
   ```

2. **κµ¬ν„ μ„Έλ¶€μ‚¬ν•­**
   ```markdown
   β κΈμ§€:
   λ‚΄λ¶€μ μΌλ΅ IndexedDBλ¥Ό μ‚¬μ©ν•μ—¬...
   ```

3. **λ¨νΈν• ν‘ν„**
   ```markdown
   β κΈμ§€:
   ν•„μ”ν•λ©΄ μ‚¬μ©...
   λ€λµμ μΌλ΅...
   ```

---

## π”„ λ³€κ²½ κ΄€λ¦¬

### κΈ°λ¥ μ •μ λ³€κ²½ μ‹

1. κ΄€λ ¨ μΈν„°νμ΄μ¤ κ²€ν† 
   ```bash
   # μν–¥λ°›λ” μΈν„°νμ΄μ¤ μ°ΎκΈ°
   grep -r "01_ProjectManagement" tasks/interfaces/
   ```

2. μΈν„°νμ΄μ¤ νΈν™μ„± ν™•μΈ
3. ν•„μ”μ‹ μƒ μΈν„°νμ΄μ¤ λ²„μ „ μƒμ„±

### μΈν„°νμ΄μ¤ λ³€κ²½ μ‹

**μ›μΉ™: μΈν„°νμ΄μ¤λ” μμ • λ¶κ°€**

λ€μ‹ :
1. μƒ μΈν„°νμ΄μ¤ λ¬Έμ„ μƒμ„± (λ²„μ „ λ…μ‹)
2. κΈ°μ΅΄ μΈν„°νμ΄μ¤λ” deprecated ν‘μ‹
3. λ§μ΄κ·Έλ μ΄μ… κ³„ν λ¬Έμ„ν™”

---

## π― μ‘μ—… νλ¦„

### 1. μ”κµ¬μ‚¬ν•­ λ¶„μ„
```
μ”κµ¬μ‚¬ν•­ β†’ κΈ°λ¥ μ‹λ³„ β†’ κΈ°λ¥ λ¶„λ¦¬
```

### 2. κΈ°λ¥ μ •μ
```
features/{λ²νΈ}_{κΈ°λ¥λ…}.md μ‘μ„±
```

### 3. μμ΅΄μ„± λ¶„μ„
```
κΈ°λ¥ Aκ°€ κΈ°λ¥ B ν•„μ” β†’ interfaces/{A}--{B}.md
```

### 4. μΈν„°νμ΄μ¤ μ •μ
```
λ©μ  β†’ κ³„μ•½ β†’ λ¶λ³€ κ·μΉ™ β†’ κ²€μ¦ μ΅°κ±΄
```

### 5. κ²€μ¦
```
- μν™ μμ΅΄μ„± ν™•μΈ
- μΈν„°νμ΄μ¤ μΌκ΄€μ„± ν™•μΈ
- νƒ€μ… μ •ν•©μ„± ν™•μΈ
```

---

## π“ μƒνƒ κ΄€λ¦¬

### κΈ°λ¥ μƒνƒ
- `planned`: κ³„νλ¨
- `in-progress`: κ°λ° μ¤‘
- `completed`: μ™„λ£λ¨
- `deprecated`: νκΈ° μμ •

### μΈν„°νμ΄μ¤ μƒνƒ
- `defined`: μ •μλ¨
- `implemented`: κµ¬ν„λ¨
- `verified`: κ²€μ¦λ¨
- `deprecated`: νκΈ° μμ •

---

## π” κ²€μ¦ μ²΄ν¬λ¦¬μ¤νΈ

### κΈ°λ¥ μ •μ
- [ ] λ©μ μ΄ 1-2λ¬Έμ¥μΌλ΅ λ…ν™•ν•κ°€?
- [ ] μ±…μ„μ΄ κµ¬μ²΄μ μΈκ°€?
- [ ] μμ΅΄μ„±μ΄ λ…μ‹λμ—λ”κ°€?
- [ ] μν™ μμ΅΄μ΄ μ—†λ”κ°€?
- [ ] κ³µμ© νƒ€μ…μ„ μ§μ ‘ μ •μν•μ§€ μ•κ³  μ°Έμ΅°ν•λ”κ°€?

### μΈν„°νμ΄μ¤ μ •μ
- [ ] λ©μ μ΄ 1λ¬Έμ¥μΌλ΅ λ…ν™•ν•κ°€?
- [ ] νƒ€μ…μ΄ μ™„μ „ν μ •μλμ—λ”κ°€?
- [ ] λ¶λ³€ κ·μΉ™μ΄ λ…μ‹λμ—λ”κ°€?
- [ ] μμ‹ μ½”λ“κ°€ μ—†λ”κ°€?
- [ ] λ¨νΈν• ν‘ν„μ΄ μ—†λ”κ°€?
- [ ] κ³µμ© νƒ€μ…μ„ μ§μ ‘ μ •μν•μ§€ μ•κ³  μ°Έμ΅°ν•λ”κ°€?

### κ³µμ© νƒ€μ… (shared/)
- [ ] `shared/` λ””λ ‰ν† λ¦¬μ— μ„μΉν•λ”κ°€?
- [ ] νμΌλ…μ΄ μ •λ ¬λμ—λ”κ°€? (μ: `01--02_02--03`)
- [ ] Frontmatterμ— `interfaces` ν•„λ“κ°€ μλ”κ°€?
- [ ] μ–‘λ°©ν–¥ μ°Έμ΅°κ°€ μΌμΉν•λ”κ°€?
- [ ] `validate.sh && validate-types.sh` ν†µκ³Όν•λ”κ°€?

---

## π› οΈ ν’μ§ κ΄€λ¦¬ λ„κµ¬

### μλ™ν™”λ κ²€μ¦ λ„κµ¬

ν”„λ΅μ νΈλ” νƒ€μ… μ‹μ¤ν…μ ν’μ§μ„ μ μ§€ν•κΈ° μ„ν•΄ 5κ°€μ§€ μλ™ν™” κ²€μ¦ λ„κµ¬λ¥Ό μ κ³µν•©λ‹λ‹¤:

#### 1. validate.sh - κµ¬μ΅° κ²€μ¦
- μν™ μμ΅΄μ„± κ²€μ‚¬
- μΈν„°νμ΄μ¤ μΌκ΄€μ„± ν™•μΈ
- Frontmatter ν•„μ ν•„λ“ κ²€μ¦
- μ–‘λ°©ν–¥ μ°Έμ΅° κ²€μ¦

```bash
npm run validate
```

#### 2. validate-types.sh - νƒ€μ… μΌκ΄€μ„± κ²€μ¦
- κ³µμ© νƒ€μ… μ‚¬μ© ν™•μΈ
- κ³ μ•„ κ³µμ© νƒ€μ… κ°μ§€
- μ¤‘λ³µ νƒ€μ… μ •μ κ²€μ‚¬

```bash
npm run validate:types
```

#### 3. find-duplicates.sh - μ¤‘λ³µ νƒ€μ… κ²€μ¶
- μ—¬λ¬ νμΌμ—μ„ λ™μΌ νƒ€μ… μ •μ κ²€μ¶
- νμΌ μ„μΉμ™€ λΌμΈ λ²νΈ λ¦¬ν¬νΈ

```bash
npm run validate:duplicates
```

#### 4. check-references.sh - SSOT μ¤€μ κ²€μ¦
- shared/ μ™Έλ¶€μ—μ„ κ³µμ© νƒ€μ… μ¬μ •μ κ²€μ‚¬
- SSOT μ›μΉ™ μ„λ° κ°μ§€

```bash
npm run validate:ssot
```

#### 5. validate-code-refs.sh - μ½”λ“ μ°Έμ΅° λ¬΄κ²°μ„± κ²€μ¦ (NEW)
- λ¬Έμ„μ—μ„ μ°Έμ΅°ν•λ” μ½”λ“ νμΌ μ΅΄μ¬ ν™•μΈ
- νƒ€μ… μ°Έμ΅° μΌμΉμ„± κ²€μ¦
- μƒνƒ-μ°Έμ΅° μΌκ΄€μ„± ν™•μΈ

```bash
npm run validate:code-refs
```

#### ν†µν•© κ²€μ¦
λ¨λ“  κ²€μ¦μ„ ν• λ²μ— μ‹¤ν–‰:

```bash
npm run validate:all
```

**κ¶μ¥ μ‚¬μ© μ‹μ :**
- μ»¤λ°‹ μ „ (ν•„μ)
- κ³µμ© νƒ€μ… μ¶”κ°€/μμ • ν›„
- μΈν„°νμ΄μ¤ λ³€κ²½ ν›„
- νƒ€μ… λ¦¬ν©ν† λ§ ν›„
- μ½”λ“ μ°Έμ΅° μ¶”κ°€/λ³€κ²½ ν›„

### μƒμ„Έ κ°€μ΄λ“

- **λ„κµ¬ μ‚¬μ©λ²•**: [QUALITY_TOOLS.md](./QUALITY_TOOLS.md)
- **κµ¬ν„ λ¦¬ν¬νΈ**: [IMPLEMENTATION_REPORT.md](./IMPLEMENTATION_REPORT.md)
- **κ²€μ¦ μ‹μ¤ν…**: [VALIDATION.md](./VALIDATION.md)
- **μ½”λ“ μ°Έμ΅°**: [CODE_REFERENCE.md](./CODE_REFERENCE.md) - λ¬Έμ„ κ²½λ‰ν™” μ»¨λ²¤μ…

### ν’μ§ μ§€ν‘

ν„μ¬ ν”„λ΅μ νΈ ν’μ§ μƒνƒ:
- **SSOT μ¤€μμ¨**: 100% (5/5 κ³µμ© νƒ€μ…)
- **μ¤‘λ³µ νƒ€μ…**: 0κ°
- **μ½”λ“ μ°Έμ΅° λ¬΄κ²°μ„±**: 100%
- **κ²€μ¦ ν†µκ³Όμ¨**: 100% (5/5 μ¤ν¬λ¦½νΈ)

---

**μ΄ λ¬Έμ„λ” tasks λ””λ ‰ν† λ¦¬μ μ μΌν• κ°€μ΄λ“μ…λ‹λ‹¤.**
