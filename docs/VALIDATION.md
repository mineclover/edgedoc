# κ²€μ¦ μ‹μ¤ν… (Validation System)

## λ©μ 

tasks/ λ””λ ‰ν† λ¦¬ λ‚΄ μΈν„°νμ΄μ¤ λ° κ³µμ© νƒ€μ… λ¬Έμ„μ μΌκ΄€μ„±, μ •ν™•μ„±, μ™„μ „μ„±μ„ μλ™μΌλ΅ κ²€μ¦ν•μ—¬ λ¬Έμ„ ν’μ§μ„ μ μ§€ν•©λ‹λ‹¤.

**ν•µμ‹¬ κ²€μ¦ ν•­λ©:**
- **λ‹¨μΌ μ§„μ‹¤ μ›μ² (SSOT)**: κ³µμ© νƒ€μ…μ΄ `shared/`μ—μ„λ§ μ •μλκ³  λ‹¤λ¥Έ κ³³μ—μ„λ” μ°Έμ΅°λ§ ν•λ”μ§€ ν™•μΈ
- **μ¤‘λ³µ μ •μ λ°©μ§€**: κ°™μ€ νƒ€μ…μ΄ μ—¬λ¬ κ³³μ—μ„ μ •μλμ§€ μ•μ•λ”μ§€ ν™•μΈ
- **μ–‘λ°©ν–¥ μ°Έμ΅° μΌκ΄€μ„±**: κ³µμ© νƒ€μ…κ³Ό μΈν„°νμ΄μ¤ κ°„ μ°Έμ΅°κ°€ μΌμΉν•λ”μ§€ ν™•μΈ

## κ²€μ¦ λ„κµ¬

### 1. validate.sh - κµ¬μ΅° κ²€μ¦ (ν•„μ)

μΈν„°νμ΄μ¤ λ° κ³µμ© νƒ€μ… λ¬Έμ„μ κµ¬μ΅°μ  μΌκ΄€μ„±μ„ κ²€μ¦ν•©λ‹λ‹¤.

#### κ²€μ¦ ν•­λ©

**1οΈβƒ£ μν™ μμ΅΄μ„± κ²€μ‚¬**
- μΈν„°νμ΄μ¤ κ°„ μν™ μ°Έμ΅° κ°μ§€
- Aβ†’Bβ†’Cβ†’A κ°™μ€ ν¨ν„΄ νƒμ§€

**2οΈβƒ£ μΈν„°νμ΄μ¤ μΌκ΄€μ„± κ²€μ‚¬**
- from/to ν•„λ“ μΌκ΄€μ„±
- μΈν„°νμ΄μ¤ νμΌλ…κ³Ό λ‚΄μ© λ§¤μΉ­

**3οΈβƒ£ Frontmatter ν•„μ ν•„λ“ κ²€μ‚¬**
- μΈν„°νμ΄μ¤: `from`, `to`, `type`, `status`
- κ³µμ© νƒ€μ…: `interfaces`, `type`, `status`
- ν•„λ“ λ„λ½ κ°μ§€

**4οΈβƒ£ μμ‹ μ½”λ“ κΈμ§€ κ²€μ‚¬**
- μμ‹ μ½”λ“ λΈ”λ΅ μ΅΄μ¬ μ—¬λ¶€
- μ‹¤μ  νƒ€μ… μ •μλ§ ν—μ©

**5οΈβƒ£ κ³µμ© νƒ€μ… κ²€μ¦ (SSOT ν•µμ‹¬)**

**5-1. λ‹¨μΌ μ§„μ‹¤ μ›μ² (SSOT) κ²€μ¦**
- κ³µμ© νƒ€μ…μ΄ `shared/` λ””λ ‰ν† λ¦¬μ—λ§ μ΅΄μ¬ν•λ”μ§€ ν™•μΈ
- `features/`, `interfaces/`μ—μ„ κ³µμ© νƒ€μ…μ„ μ§μ ‘ μ •μν•μ§€ μ•μ•λ”μ§€ ν™•μΈ
- μ°Έμ΅° λ§ν¬ (π”—) μ΅΄μ¬ ν™•μΈ

**5-2. νμΌλ… κ²€μ¦**
- `_` κµ¬λ¶„μ ν¬ν•¨ μ—¬λ¶€
- `XX--YY` ν•μ‹ ν™•μΈ (μ •κ·μ‹: `^[0-9]{2}--[0-9]{2}$`)
- μ¤‘λ³µ μ κ°μ§€ (μ: `01--02_01--02`)
- μ•νλ²³μ μ •λ ¬ ν™•μΈ
- interfaces κ°μμ™€ νμΌλ… μ κ°μ μΌμΉ
- interfaces λ°°μ—΄ μ •λ ¬ ν™•μΈ

**5-3. μ–‘λ°©ν–¥ μ°Έμ΅° κ²€μ¦**
- μΈν„°νμ΄μ¤ β†’ κ³µμ© νƒ€μ…: `shared_types` ν•„λ“ ν™•μΈ
- κ³µμ© νƒ€μ… β†’ μΈν„°νμ΄μ¤: `interfaces` ν•„λ“ ν™•μΈ
- μ°Έμ΅° λ§ν¬ (π”—) μ΅΄μ¬ ν™•μΈ

**5-4. μ—­λ°©ν–¥ μ°Έμ΅° ν™•μΈ**
- κ³µμ© νƒ€μ…μ— λ…μ‹λ μΈν„°νμ΄μ¤ νμΌ μ΅΄μ¬
- ν•΄λ‹Ή μΈν„°νμ΄μ¤κ°€ κ³µμ© νƒ€μ…μ„ μ‹¤μ λ΅ μ°Έμ΅°ν•λ”μ§€ ν™•μΈ

**5-5. λ¬Έμ„ κµ¬μ΅° κ²€μ¦**
- "νƒ€μ… μ •μ" μ„Ήμ… μ΅΄μ¬
- "μ‚¬μ© μΈν„°νμ΄μ¤" μ„Ήμ… μ΅΄μ¬

#### μ‹¤ν–‰ λ°©λ²•

```bash
cd tasks
bash validate.sh
```

#### μ¶λ ¥ μμ‹

```bash
π” Tasks μΈν„°νμ΄μ¤ κ²€μ¦
========================

1οΈβƒ£  μν™ μμ΅΄μ„± κ²€μ‚¬...
β… μν™ μμ΅΄μ„± μ—†μ

2οΈβƒ£   μΈν„°νμ΄μ¤ μΌκ΄€μ„± κ²€μ‚¬...
β… μΈν„°νμ΄μ¤ μΌκ΄€μ„± ν™•μΈ

3οΈβƒ£  Frontmatter ν•„μ ν•„λ“ κ²€μ‚¬...
β… Frontmatter ν•„λ“ μ™„μ „

4οΈβƒ£  μμ‹ μ½”λ“ κΈμ§€ κ²€μ‚¬...
β… μμ‹ μ½”λ“ μ—†μ

5οΈβƒ£   κ³µμ© νƒ€μ… κ²€μ¦...
β… κ³µμ© νƒ€μ… κ²€μ¦ ν†µκ³Ό

========================
β… λ¨λ“  κ²€μ¦ ν†µκ³Ό
```

#### μ¤λ¥ μμ‹

```bash
# νμΌλ… μ •λ ¬ μ¤λ¥
β 02--03_01--02: μμ΄ μ •λ ¬λμ§€ μ•μ (μ •λ ¬ ν›„: 01--02_02--03)

# μ–‘λ°©ν–¥ μ°Έμ΅° λ¶μΌμΉ
β 01--02: 02--03_02--05.mdμ interfacesμ— 01--02 μ—†μ (μ–‘λ°©ν–¥ μ°Έμ΅° λ¶μΌμΉ)

# μ¤‘λ³µ μ
β 01--02_01--02_02--03: μ¤‘λ³µλ μ μ΅΄μ¬

# κ²½κ³  (μΉλ…μ μ΄μ§€ μ•μ)
β οΈ  01--02_02--03_02--05: interfacesκ°€ μ •λ ¬λμ§€ μ•μ
```

### 2. validate-types.sh - νƒ€μ… μΌκ΄€μ„± κ²€μ¦ (κ¶μ¥)

κ³µμ© νƒ€μ…μ΄ μ‹¤μ λ΅ μΈν„°νμ΄μ¤μ—μ„ μ¬λ°”λ¥΄κ² μ‚¬μ©λλ”μ§€ μλ―Έμ  κ²€μ¦μ„ μν–‰ν•©λ‹λ‹¤.

#### κ²€μ¦ ν•­λ©

**1οΈβƒ£ κ³µμ© νƒ€μ… μΌκ΄€μ„± κ²€μ¦**
- κ³µμ© νƒ€μ… νμΌμ—μ„ νƒ€μ…λ… μ¶”μ¶
- ν•΄λ‹Ή νƒ€μ…μ΄ interfacesμ— λ…μ‹λ νμΌμ—μ„ μ‚¬μ©λλ”μ§€ ν™•μΈ
- `Pick<>`, `Omit<>`, `Partial<>` λ“± TypeScript μ ν‹Έλ¦¬ν‹° νƒ€μ… κ°μ§€

**2οΈβƒ£ κ³ μ•„ κ³µμ© νƒ€μ… κ²€μ‚¬**
- frontmatterμ—λ” interfacesκ°€ μμ§€λ§ μ‹¤μ  μ°Έμ΅°κ°€ μ—†λ” κ²½μ°
- μ–΄λ–¤ μΈν„°νμ΄μ¤λ„ `shared_types`μ—μ„ μ°Έμ΅°ν•μ§€ μ•λ” κ³µμ© νƒ€μ… νμΌ

**3οΈβƒ£ μ¤‘λ³µ νƒ€μ… μ •μ κ²€μ‚¬ (SSOT ν•µμ‹¬)**
- μ—¬λ¬ μΈν„°νμ΄μ¤/κΈ°λ¥ λ¬Έμ„μ—μ„ λ™μΌν• μ΄λ¦„μ νƒ€μ…μ΄ μ •μλμ—λ”μ§€ ν™•μΈ
- μ¤‘λ³µ λ°κ²¬ μ‹ κ³µμ© νƒ€μ…μΌλ΅ μ¶”μ¶ν•  κ²ƒμ„ μ μ•
- **νΉν μ£Όμ**: `features/`, `interfaces/`μ—μ„ κ³µμ© νƒ€μ…κ³Ό λ™μΌν• μ΄λ¦„μ νƒ€μ… μ •μ κ°μ§€

#### μ‹¤ν–‰ λ°©λ²•

```bash
cd tasks
bash validate-types.sh
```

#### μ¶λ ¥ μμ‹

```bash
π” κ³µμ© νƒ€μ… μΌκ΄€μ„± κ²€μ¦...

1οΈβƒ£  κ³µμ© νƒ€μ… μΌκ΄€μ„± κ²€μ¦
  κ²€μ¦ μ¤‘: 01--02_02--03_02--05
    νƒ€μ…λ…: ImageAsset
    β… 01--02: ImageAsset μ‚¬μ© ν™•μΈ
    β… 02--03: ImageAsset μ„ νƒμ  μ‚¬μ© ν™•μΈ
    β… 02--05: ImageAsset μ‚¬μ© ν™•μΈ

2οΈβƒ£  κ³ μ•„ κ³µμ© νƒ€μ… κ²€μ‚¬

3οΈβƒ£  μ¤‘λ³µ νƒ€μ… μ •μ κ²€μ‚¬
  μ¤‘λ³µ νƒ€μ… μ •μ κ²€μ‚¬...
  β οΈ  νƒ€μ… 'LayerNode'μ΄ μ—¬λ¬ νμΌμ—μ„ μ •μλ¨: 03--04,06--05
      β†’ κ³µμ© νƒ€μ…μΌλ΅ μ¶”μ¶ κ³ λ ¤

β… νƒ€μ… μΌκ΄€μ„± κ²€μ¦ μ™„λ£
```

## κ²€μ¦ μ›ν¬ν”λ΅μ°

### κ°λ° μ¤‘ κ²€μ¦

```bash
# 1. κµ¬μ΅° κ²€μ¦ (ν•„μ)
cd tasks && bash validate.sh

# 2. νƒ€μ… μΌκ΄€μ„± κ²€μ¦ (κ¶μ¥)
cd tasks && bash validate-types.sh
```

### μ»¤λ°‹ μ „ κ²€μ¦

```bash
# λ¨λ“  κ²€μ¦μ„ ν• λ²μ— μ‹¤ν–‰
cd tasks && bash validate.sh && bash validate-types.sh
```

### CI/CD ν†µν•©

```yaml
# .github/workflows/validate.yml μμ‹
name: Validate Tasks

on: [push, pull_request]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run structure validation
        run: cd tasks && bash validate.sh
      - name: Run type consistency validation
        run: cd tasks && bash validate-types.sh
```

## κ²€μ¦ κ·μΉ™ μ„Έλ¶€μ‚¬ν•­

### λ‹¨μΌ μ§„μ‹¤ μ›μ² (SSOT) κ²€μ¦

κ³µμ© νƒ€μ…μ λ‹¨μΌ μ§„μ‹¤ μ›μ² μ›μΉ™μ„ κ²€μ¦ν•©λ‹λ‹¤.

#### κ·μΉ™ 1: μ •μ μ„μΉ μ ν•
- β… **ν—μ©**: `shared/` λ””λ ‰ν† λ¦¬μ—μ„λ§ νƒ€μ… μ •μ
- β **κΈμ§€**: `features/`, `interfaces/`μ—μ„ κ³µμ© νƒ€μ… μ •μ

**κ²€μ¦ λ°©λ²•:**
```bash
# κ³µμ© νƒ€μ…λ… μ¶”μ¶
shared_types=$(grep "^interface " shared/*.md | sed 's/.*interface \([^ {]*\).*/\1/')

# features/interfacesμ—μ„ λ™μΌν• νƒ€μ… μ •μ κ²€μƒ‰
for type in $shared_types; do
  if grep -r "^interface $type" features/ interfaces/; then
    echo "β SSOT μ„λ°: $typeμ΄ shared/ μ™Έλ¶€μ—μ„ μ •μλ¨"
  fi
done
```

#### κ·μΉ™ 2: μ°Έμ΅° λ°©μ‹ κ°•μ 
- β… **ν—μ©**: Frontmatter `shared_types` + μ°Έμ΅° λ§ν¬ (π”—)
- β **κΈμ§€**: νƒ€μ… μ „μ²΄ λ³µμ‚¬

**κ²€μ¦ λ°©λ²•:**
```bash
# shared_typesμ— λ…μ‹λ νƒ€μ…μ΄ μ‹¤μ λ΅ μ°Έμ΅°λ§ ν•λ”μ§€ ν™•μΈ
# μ°Έμ΅° λ§ν¬ (π”—) μ΅΄μ¬ ν™•μΈ
```

#### κ·μΉ™ 3: μ¤‘λ³µ μ •μ λ°©μ§€
- validate-types.shκ°€ μλ™μΌλ΅ μ¤‘λ³µ νƒ€μ… μ •μ κ²€μ¶
- μ¤‘λ³µ λ°κ²¬ μ‹ κ²½κ³ μ™€ ν•¨κ» κ³µμ© νƒ€μ… μ¶”μ¶ μ μ•

**μμ‹ μ¶λ ¥:**
```bash
β οΈ  νƒ€μ… 'LayerNode'μ΄ μ—¬λ¬ νμΌμ—μ„ μ •μλ¨: 03--04,04--03,06--05
    β†’ shared/03--04_06--05.mdλ΅ κ³µμ© νƒ€μ… μ¶”μ¶ κ¶μ¥
```

### κ³µμ© νƒ€μ… νμΌλ… κ·μΉ™

**ν•μ‹:** `{A}--{B}_{C}--{D}.md`

**κ²€μ¦ ν•­λ©:**
1. `_` ν¬ν•¨ μ—¬λ¶€ (κ³µμ© νƒ€μ… μ‹λ³„μ)
2. κ° μμ΄ `XX--YY` ν•μ‹ (X, Yλ” 2μλ¦¬ μ«μ)
3. μμ μ¤‘λ³µ μ—†μ
4. μ•νλ²³μ μ •λ ¬

**μμ‹:**
```bash
# β… μ¬λ°”λ¥Έ ν•μ‹
01--02_02--03_02--05.md

# β μλ»λ ν•μ‹
02--03_01--02.md          # μ •λ ¬ μ• λ¨
01--02_01--02.md          # μ¤‘λ³µ μ
1--2_2--3.md              # ν•μ‹ μ¤λ¥ (2μλ¦¬ ν•„μ”)
01-02_02-03.md            # -- λ€μ‹  - μ‚¬μ©
```

### Frontmatter κ²€μ¦

**μΈν„°νμ΄μ¤ νμΌ (`interfaces/*.md`):**
```yaml
---
from: "01_ProjectManagement"           # ν•„μ
to: "02_ImageLibrary"                  # ν•„μ
type: "service"                        # ν•„μ
status: "defined"                      # ν•„μ
shared_types:                          # μ„ νƒ (μμΌλ©΄ κ²€μ¦)
  - "01--02_02--03_02--05"
---
```

**κ³µμ© νƒ€μ… νμΌ (`shared/*.md`):**
```yaml
---
interfaces:                            # ν•„μ (λ°°μ—΄, μ •λ ¬λ¨)
  - "01--02"
  - "02--03"
  - "02--05"
type: "shared"                         # ν•„μ (λ°λ“μ‹ "shared")
status: "defined"                      # ν•„μ
---
```

### μ–‘λ°©ν–¥ μ°Έμ΅° μΌκ΄€μ„±

κ³µμ© νƒ€μ…κ³Ό μΈν„°νμ΄μ¤λ” μ„λ΅λ¥Ό μ°Έμ΅°ν•΄μ•Ό ν•©λ‹λ‹¤:

**κ³µμ© νƒ€μ… β†’ μΈν„°νμ΄μ¤:**
```yaml
# shared/01--02_02--03_02--05.md
interfaces:
  - "01--02"    # interfaces/01--02.md μ΅΄μ¬ν•΄μ•Ό ν•¨
  - "02--03"    # interfaces/02--03.md μ΅΄μ¬ν•΄μ•Ό ν•¨
  - "02--05"    # interfaces/02--05.md μ΅΄μ¬ν•΄μ•Ό ν•¨
```

**μΈν„°νμ΄μ¤ β†’ κ³µμ© νƒ€μ…:**
```yaml
# interfaces/01--02.md
shared_types:
  - "01--02_02--03_02--05"    # shared/01--02_02--03_02--05.md μ΅΄μ¬ν•΄μ•Ό ν•¨
```

**κµμ°¨ κ²€μ¦:**
- `01--02.md`μ `shared_types`μ— `"01--02_02--03_02--05"` μμ
- `01--02_02--03_02--05.md`μ `interfaces`μ— `"01--02"` μμ
- μ–‘λ°©ν–¥ μΌμΉ ν•„μ

## μ¤λ¥ μ²λ¦¬

### μΉλ…μ  μ¤λ¥ (β)

κ²€μ¦ μ‹¤ν¨ μ‹ `exit 1` λ°ν™:
- μν™ μμ΅΄μ„± λ°κ²¬
- ν•„μ frontmatter ν•„λ“ λ„λ½
- νμΌλ… ν•μ‹ μ¤λ¥
- μ–‘λ°©ν–¥ μ°Έμ΅° λ¶μΌμΉ
- μ°Έμ΅°ν•λ” νμΌ μ΅΄μ¬ν•μ§€ μ•μ

### κ²½κ³  (β οΈ)

κ²€μ¦ ν†µκ³Όν•μ§€λ§ μ£Όμ ν•„μ”:
- interfaces μ •λ ¬ μ• λ¨ (κΈ°λ¥μ μΌλ΅ λ¬Έμ μ—†μΌλ‚ μ»¨λ²¤μ… μ„λ°)
- λ¬Έμ„ μ„Ήμ… λ„λ½ (νƒ€μ… μ •μ, μ‚¬μ© μΈν„°νμ΄μ¤)
- κ³ μ•„ κ³µμ© νƒ€μ… (μ°Έμ΅° μ—†μ)
- μ¤‘λ³µ νƒ€μ… μ •μ (κ³µμ© νƒ€μ… μ¶”μ¶ ν›„λ³΄)

## κ²€μ¦ μ¤ν¬λ¦½νΈ μ μ§€λ³΄μ

### validate.sh μμ • μ‹ μ£Όμμ‚¬ν•­

1. **μ—λ¬ μΉ΄μ΄νΈ μΌκ΄€μ„±**
   - `ERRORS` λ³€μ μ¦κ°€ μ‹ `((ERRORS++))`
   - `SHARED_ERRORS` λ³€μλ” κ³µμ© νƒ€μ… μ „μ©

2. **νμΌ μ΅΄μ¬ ν™•μΈ**
   - `[ ! -f "$file" ] && continue` ν¨ν„΄ μ‚¬μ©
   - λ””λ ‰ν† λ¦¬λ” `[ -d "$dir" ]`

3. **μ •κ·μ‹ μ‚¬μ©**
   - Bash μ •κ·μ‹: `[[ "$var" =~ ^pattern$ ]]`
   - νΉμλ¬Έμ μ΄μ¤μΌ€μ΄ν”„ ν•„μ”

4. **λ°°μ—΄ μ •λ ¬**
   - `sorted=($(printf '%s\n' "${array[@]}" | sort))`
   - κ³µλ°± μ²λ¦¬: `tr -d ' '`

### validate-types.sh μμ • μ‹ μ£Όμμ‚¬ν•­

1. **Bash 3.x νΈν™μ„±**
   - μ—°κ΄€ λ°°μ—΄ (`declare -A`) μ‚¬μ© κΈμ§€
   - μ„μ‹ νμΌ (`mktemp`) μ‚¬μ©

2. **νƒ€μ… μ¶”μ¶**
   - `grep "^interface " file | sed 's/interface \([^ {]*\).*/\1/'`
   - λ§ν¬λ‹¤μ΄ μ½”λ“ λΈ”λ΅ λ‚΄μ—μ„λ§ μ¶”μ¶

3. **μ •λ¦¬ (Cleanup)**
   - μ„μ‹ νμΌ μ‚­μ : `rm -f "$tmpfile"`
   - `trap` μ‚¬μ© κ¶μ¥: `trap "rm -f $tmpfile" EXIT`

## λ¬Έμ  ν•΄κ²° (Troubleshooting)

### λ¬Έμ  1: "interfacesκ°€ μ •λ ¬λμ§€ μ•μ" κ²½κ³ 

**μ›μΈ:** frontmatterμ interfaces λ°°μ—΄μ΄ μ•νλ²³μμ΄ μ•„λ‹

**ν•΄κ²°:**
```yaml
# β μλ»λ μμ„
interfaces:
  - "02--03"
  - "01--02"
  - "02--05"

# β… μ¬λ°”λ¥Έ μμ„
interfaces:
  - "01--02"
  - "02--03"
  - "02--05"
```

### λ¬Έμ  2: "μ–‘λ°©ν–¥ μ°Έμ΅° λ¶μΌμΉ"

**μ›μΈ:** κ³µμ© νƒ€μ…κ³Ό μΈν„°νμ΄μ¤μ μ°Έμ΅°κ°€ μΌμΉν•μ§€ μ•μ

**ν•΄κ²°:**
```bash
# 1. shared/01--02_02--03.md ν™•μΈ
interfaces:
  - "01--02"
  - "02--03"

# 2. interfaces/01--02.md ν™•μΈ
shared_types:
  - "01--02_02--03"  # μ¶”κ°€

# 3. interfaces/02--03.md ν™•μΈ
shared_types:
  - "01--02_02--03"  # μ¶”κ°€
```

### λ¬Έμ  3: "νƒ€μ… μ‚¬μ© ν™•μΈ λ¶κ°€"

**μ›μΈ:** validate-types.shκ°€ νƒ€μ… μ‚¬μ©μ„ μ°Ύμ§€ λ»ν•¨

**ν•΄κ²°:**
```typescript
// β νƒ€μ… μ‚¬μ©μ΄ μ•”μ‹μ 
const asset = { id: '123', name: 'image' };

// β… νƒ€μ… μ‚¬μ©μ΄ λ…μ‹μ 
const asset: ImageAsset = { ... };

// β… λλ” Pick μ‚¬μ©
const asset: Pick<ImageAsset, 'id' | 'name'> = { ... };
```

### λ¬Έμ  4: μ¤‘λ³µ νƒ€μ… κ²½κ³  (SSOT μ„λ°)

**μ›μΈ:** μ—¬λ¬ μΈν„°νμ΄μ¤μ—μ„ κ°™μ€ νƒ€μ… μ •μ

**ν•΄κ²°:**
1. κ³µμ© νƒ€μ… νμΌ μƒμ„±: `shared/03--04_06--05.md`
2. νƒ€μ…μ„ κ³µμ© νƒ€μ…μΌλ΅ μ΄λ™
3. κ° μΈν„°νμ΄μ¤μ—μ„ μ°Έμ΅°λ΅ λ³€κ²½
4. validate.sh μ‹¤ν–‰ν•μ—¬ ν™•μΈ

**μμ‹:**
```bash
# λ¬Έμ : LayerNodeκ°€ 3κ³³μ—μ„ μ •μλ¨
β οΈ  νƒ€μ… 'LayerNode'μ΄ μ—¬λ¬ νμΌμ—μ„ μ •μλ¨:
    - features/03_Canvas.md
    - features/04_LayerPanel.md
    - features/06_CanvasData.md

# ν•΄κ²°:
1. shared/03--04_06--05.md μƒμ„±
2. LayerNode μ™„μ „ μ •μ μ΄λ™
3. 3κ° νμΌμ—μ„ μ •μ μ‚­μ ν•κ³  μ°Έμ΅°λ΅ λ³€κ²½:
   ---
   shared_types:
     - "03--04_06--05"
   ---
   > π”— **κ³µμ© νƒ€μ…**: `LayerNode`λ” [../shared/03--04_06--05.md] μ°Έμ΅°
```

### λ¬Έμ  5: SSOT μ„λ° - shared/ μ™Έλ¶€μ—μ„ κ³µμ© νƒ€μ… μ •μ

**μ›μΈ:** `features/` λλ” `interfaces/`μ—μ„ κ³µμ© νƒ€μ…μ„ μ§μ ‘ μ •μ

**ν•΄κ²°:**
1. ν•΄λ‹Ή νƒ€μ… μ •μλ¥Ό `shared/`λ΅ μ΄λ™
2. μ›λ μ„μΉμ—μ„λ” μ°Έμ΅°λ΅ λ³€κ²½
3. Frontmatterμ— `shared_types` μ¶”κ°€
4. κ²€μ¦ μ‹¤ν–‰

**μμ‹:**
```bash
# β μλ»λ ν¨ν„΄
# features/03_Canvas.md
interface LayerNode {
  // ...
}

# β… μ¬λ°”λ¥Έ ν¨ν„΄
# shared/03--04_06--05.mdμ— μ •μ
# features/03_Canvas.mdμ—μ„λ” μ°Έμ΅°λ§
---
shared_types:
  - "03--04_06--05"
---
> π”— **κ³µμ© νƒ€μ…**: `LayerNode`λ” [../shared/03--04_06--05.md] μ°Έμ΅°
```

## λ² μ¤νΈ ν”„λ™ν‹°μ¤

### 1. μ»¤λ°‹ μ „ ν•­μƒ κ²€μ¦ (SSOT ν™•μΈ ν•„μ)

```bash
# git hook μ¶”κ°€ (.git/hooks/pre-commit)
#!/bin/bash
cd tasks
if ! bash validate.sh; then
    echo "β κµ¬μ΅° κ²€μ¦ μ‹¤ν¨ (SSOT μ„λ° κ°€λ¥). μ»¤λ°‹ μ·¨μ†."
    exit 1
fi
if ! bash validate-types.sh; then
    echo "β οΈ  νƒ€μ… μΌκ΄€μ„± κ²½κ³  λ°κ²¬ (μ¤‘λ³µ νƒ€μ… μ •μ κ°€λ¥). ν™•μΈ κ¶μ¥."
    # κ²½κ³ λ” μ»¤λ°‹ μ°¨λ‹¨ν•μ§€ μ•μ
fi
```

### 2. μƒ μΈν„°νμ΄μ¤ μ¶”κ°€ μ‹ (SSOT μ¤€μ)

```bash
# 1. μΈν„°νμ΄μ¤ νμΌ μƒμ„±
# interfaces/07--08.md

# 2. νƒ€μ… μ •μ μ „μ—: κΈ°μ΅΄ κ³µμ© νƒ€μ… ν™•μΈ
ls shared/ | grep "07--08"

# 3. μƒ νƒ€μ…μ΄ λ‹¤λ¥Έ κ³³μ—μ„ μ‚¬μ©λλ”μ§€ ν™•μΈ
grep -r "interface MyNewType" features/ interfaces/ shared/

# 4. κ²€μ¦ μ‹¤ν–‰
bash validate.sh

# 5. μ¤‘λ³µ νƒ€μ… ν™•μΈ
bash validate-types.sh

# 6. μ¤‘λ³µ λ°κ²¬ μ‹ κ³µμ© νƒ€μ…μΌλ΅ μ¶”μ¶
# 7. λ‹¨λ… μ‚¬μ© μ‹ μΈν„°νμ΄μ¤μ— μ •μ
```

### 3. κ³µμ© νƒ€μ… μμ • μ‹ (SSOT μν–¥ λ¶„μ„ ν•„μ)

```bash
# 1. μν–¥λ°›λ” λ¨λ“  νμΌ ν™•μΈ (features, interfaces)
grep -r "01--02_02--03_02--05" features/ interfaces/

# 2. νƒ€μ…λ…μΌλ΅ μ‹¤μ  μ‚¬μ©μ² ν™•μΈ
grep -r "ImageAsset" features/ interfaces/ | grep -v "π”—"

# 3. κ³µμ© νƒ€μ… μμ • (shared/μ—μ„λ§!)
# shared/01--02_02--03_02--05.md

# 4. κ²€μ¦ μ‹¤ν–‰
bash validate.sh && bash validate-types.sh

# 5. λ¨λ“  μ°Έμ΅° μΈν„°νμ΄μ¤/κΈ°λ¥ λ¬Έμ„ μ—…λ°μ΄νΈ ν™•μΈ
# 6. νƒ€μ… λ³€κ²½μ΄ νΈν™μ„±μ„ κΉ¨λ¨λ¦¬λ”μ§€ ν™•μΈ
```

### 4. μ •κΈ°μ  κ²€μ¦

```bash
# μ£Όκ°„ λλ” λ¦΄λ¦¬μ¦ μ „
cd tasks
bash validate.sh && bash validate-types.sh

# μ¤‘λ³µ νƒ€μ… λ¦¬ν¬νΈ κ²€ν† 
# κ³µμ© νƒ€μ… μ¶”μ¶ κ³ λ ¤
```

## ν™•μ¥ κ°€λ¥μ„±

### ν–¥ν›„ μ¶”κ°€ κ°€λ¥ν• κ²€μ¦

1. **νƒ€μ… νΈν™μ„± κ²€μ¦**
   - TypeScript μ»΄νμΌλ¬ API μ‚¬μ©
   - Pick<> ν•„λ“κ°€ μ‹¤μ λ΅ μ›λ³Έ νƒ€μ…μ— μ΅΄μ¬ν•λ”μ§€ ν™•μΈ

2. **λ¬Έμ„ ν’μ§ κ²€μ¦**
   - μ£Όμ„ μ¶©μ‹¤λ„ κ²€μ‚¬
   - μμ  μ½”λ“ κ²€μ¦ (TypeScript μ»΄νμΌ)

3. **μμ΅΄μ„± κ·Έλν”„ μ‹κ°ν™”**
   - GraphVizλ΅ μΈν„°νμ΄μ¤ κ΄€κ³„λ„ μƒμ„±
   - κ³µμ© νƒ€μ… μ‚¬μ© ν„ν™© μ°¨νΈ

4. **μλ™ μμ • κΈ°λ¥**
   - `--fix` ν”λκ·Έλ΅ μ •λ ¬ μλ™ μμ •
   - frontmatter μλ™ μƒμ„±

5. **μ„±λ¥ μµμ ν™”**
   - λ³‘λ ¬ μ²λ¦¬ (GNU parallel)
   - μ¦λ¶„ κ²€μ¦ (λ³€κ²½λ νμΌλ§)

## μ°Έκ³  μλ£

- [SHARED_TYPES.md](./SHARED_TYPES.md) - κ³µμ© νƒ€μ… μ»¨λ²¤μ…
- [INTERFACE_SPEC.md](./INTERFACE_SPEC.md) - μΈν„°νμ΄μ¤ λ…μ„Έ
- validate.sh - κµ¬μ΅° κ²€μ¦ μ¤ν¬λ¦½νΈ
- validate-types.sh - νƒ€μ… μΌκ΄€μ„± κ²€μ¦ μ¤ν¬λ¦½νΈ
